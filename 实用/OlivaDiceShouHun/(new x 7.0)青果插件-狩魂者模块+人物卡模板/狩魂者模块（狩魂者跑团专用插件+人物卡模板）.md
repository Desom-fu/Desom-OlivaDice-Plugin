# 狩魂者模块（狩魂者跑团专用插件+人物卡模板）
### 该插件已装载于狩魂者官群骰娘

- **名称**​：狩魂者模块
- ​**作者**​：Desom-fu
- ​**版本**​：1.4.3
- ​**兼容版本**​：理论兼容所有版本，但仅在最新版本测试过
- ​**平台**​：理论支持全平台（仅在 QQ 部署测试过）
- ​**操作系统**​：理论支持全系统（仅在 Windows Server 2019 上部署过）
- **前置插件**：OlivaDiceCore
- ​**狩魂者跑团官方群**​：579621236（嘿嘿嘿...）
![Image description](https://forum.olivos.run/assets/files/2025-07-22/1753159627-627178-qrcode-1753159608296.png)

---

## 注意事项

- 建议使用最新构建版`OlivaDiceCore`以获得最佳体验
- 下载地址：https://github.com/OlivOS-Team/OlivaDiceCore/actions
- （记得解压！）
[upl-file uuid=3a0f6ad4-481f-418e-bed8-424f1f11de20 size=196kB]olivadicecore.opk[/upl-file]

- 建议使用最新构建版`OlivaDiceNativeGUI`以获得最佳体验
- 下载地址：https://github.com/Desom-fu/OlivaDiceNativeGUI/actions
- （记得解压！）
[upl-file uuid=76135da4-b938-47f7-8d06-3253fdfdfda8 size=232kB]olivadicenativegui.opk[/upl-file]

- 下载完毕后建议打开`OlivaDice 设置面板`的自定义回复，在回复词中的`配置回复模块`里面新增一行`OlivaDiceShouHun`（注意大小写要完全一致!）
![Image description](https://forum.olivos.run/assets/files/2025-08-15/1755220696-98040-image.png)

---
## 下载

- ###### ​**插件包（记得解压！）** ​:
[upl-file uuid=bad9034b-7498-46bd-b7ef-eeaeff25cbf2 size=10kB]olivadiceshouhun.zip[/upl-file]

- ###### **狩魂者青果专用人物卡模板（解压！）** :
[upl-file uuid=92c72492-7962-4c00-82d4-6bdfa6bca216 size=1kB]shouhun.zip[/upl-file]

#### 以下为可选内容，包含

- ###### **狩魂者核心规则-先行体验版1.05**
- ###### **狩魂者车卡教学**
- ###### **狩魂者打印用空白卡**
- ###### **狩魂者网团用空白卡**
- ###### **若干预设角色卡**
[upl-file uuid=194ada44-c216-4bc0-bea5-ec605bc76d0f size=25MB]194ada44-c216-4bc0-bea5-ec605bc76d0f.zip[/upl-file]

---
## 2025.9.13 v1.4.3更新：
- 上传了最新构建的`OlivaDiceCore`，注意一定要使用最新构建的版本，否则会报错！
- 优化了帮助文档，优化了群录入数据，使得更简便
- 优化人物卡模板

## 2025.8.27 v1.4.2 更新：
- 优化人物卡模板
- 当每一次掷骰细节超过50个时，花括号内只显示第一个和最后一个，中间用+...+来表示。
- OlivaDice更新到最新构建版

## 2025.8.22 v1.4.1更新

- 优化：挑战值x部分优化显示

## 2025.8.21 小更新

- 优化：人物卡模板进行更新，现在可以用.temp sh了

## 2025.8.20 v1.4.0更新

- 优化：最开始不仅是输入1d20移除，xd20和d20都能移除，同时放开(x数字+)的上限
ps：前值的x可以取0，意味着本次计算不包含d20
- 增强：后式里可以通过(x数字+)来固定一个d20的值

## 2025.8.20 v1.3.4更新

- 优化：当出值在最开始输入1d20的时候，默认移除
- 优化：当技能表里洞察，说服等技能为0的时候，使用`洞察d4`将不会报错，而是自动替换成0

## 2025.8.19 更新

- 优化：OlivaDiceCore进行一个小的修复
- 优化：人物卡模板进行优化

插件没更新，更新了这两个位置

## 2025.8.10 v1.3.3更新

- 优化：挑战大成功/大失败显示更加详细
- 新增：OlivaDiceNativeGUI 最新构建版，方便恢复默认值

## 2025.8.10 v1.3.2更新

- 优化：支持全角符号
- 优化：OlivaDiceCore更新为最新构建版本，也支持全角符号

## 2025.8.8 v1.3.1更新

- 优化：降低优先级，使得能够在bot off的情况下通过at来触发（bot off还是无法直接触发）
- 优化：OlivaDiceCore更新为最新构建版本

## 2025.8.5 v1.3.0更新

- 优化：技能解析和青果本体同步
- 优化：OlivaDiceCore更新为最新构建版本

## 2025.7.28 v1.2.4更新

- 新增：回复面板的说明显示（若装了OlivaDiceNativeGUI）
![Image description](https://forum.olivos.run/assets/files/2025-07-28/1753694654-926507-7f05bccc-2fe0-4eca-bcca-4e2807d5aa86.png)

## 2025.7.26 v1.2.3更新

- 新增：挑战值的b/p解析
- 新增：人物卡模板的新alias

## 2025.7.25 v1.2.2更新

- 更新：优化了一处显示错误

## 2025.7.25 小更新

- 更新：本体没更新，修复了OlivaDiceCore里面的一些bug

## 2025.7.24 v1.2.1更新

- 更新：成功等级展示出具体的计算过程；优化.help st里的内容

## 2025.7.23 v1.2.0更新

- 更新：挑战值里面若有`D20`，挑战值中每个 D20 里面的大成功和大失败也会影响成功等级

## 2025.7.23 v1.1.1更新

- 更新技能名为`D`的时候的特殊处理，对技能名进行敏感词替换（建议OlivaDiceCore也一起更新！）

## 2025.7.22 v1.1.0更新

- 表达式里面支持技能值的直接替换，例如当洞察为2，`洞察d4` 就是 `2d4`

## 2025.7.22 v1.0.1更新

- 微调`x`的逻辑，若`x`后面有且只有数字，则不需要加号

---

## 核心功能

- 新增 `.sh` 命令，用来进行狩魂者相关的成功等级检定

---
## 使用方法

1. 下载插件包并且解压后，将插件放到 `YourOlivOSPath\plugin\app` 这个路径里
2. 下载人物卡模板并且解压后，将人物卡模板放到 `YourOlivOSPath\plugin\data\OlivaDice\unity\extend\template` 这个路径里
3. 重载插件
4. 可在GUI里面自定义回复

---
## 命令

- .sh(h)(b/p数字)(x数字+)(掷骰表达式)(#)(b/p数字)(x数字+)(掷骰表达式)
```markdown
掷骰表达式中可以包含技能名，技能名会自动替换成对应的属性值
h 代表暗骰，b/p数字 代表加/减多少成功等级，默认为1
用 # 来分隔前式和后式
# 后的 b/p数字 代表对方的奖励/惩罚成功等级
出式已经默认带有 1D20，无需后续添加（若进行添加且后续为加算则会被忽略）
如果带有 x，则为指定 1D20 的值，之后必须跟着 '+'
特殊的，如果出式中的 x 后面跟的数字为 0，则代表本次检定不带 1D20
挑战式中的 x 不能为 0，最小为 1 
如果没有 # 分割，则默认挑战式为 10
若出值为指定数字，则出值不带 1D20
成功等级计算为 (前式-后式)/5 向上取整
出值里的 D20 会自动计算大成功/大失败带来的额外成功等级，挑战值中每个 D20 里面的大成功和大失败也会影响成功等级（固定值也会影响）

示例：如要进行一次有三个加骰和两个时髦骰的掷骰，则输入.sh3d4+2d6
示例2：如要进行一次D20的值被固定为15，有四个加骰和三个时髦骰，连续第二次进行反击的掷骰，去对抗敌人有两个加骰的攻击掷骰，则输入.shp2x15+4d4+3d6#d20+2d4

可由管理员及以上权限的人进行代骰
代骰方式：在指令的末尾@目标用户
```
---

## 使用示例

### 1. 默认掷骰

**命令**​：

```markdown
.sh
```

​**回复**​：

```markdown
[测试狩魂者]进行狩魂者检定:
出值: 1D20=17
挑战值: 10 
【普通成功】是普通成功呢，一个无比普通的成功呢。 
小芙计算出了对应的成功等级哦: 2
```

### 2. 进行一次有三个加骰和两个时髦骰的掷骰

**命令**​：

```markdown
.sh3d4+2d6
```

​回复**​：

```markdown
[测试狩魂者]进行狩魂者检定:
出值: 1D20+3d4+2d6=13+{4+3+4}(11)+{2+6}(8)=32
挑战值: 10 
【普通成功】让小芙看看，一个很普通的普通成功！ 
小芙计算出了对应的成功等级哦: 5
```

### 3. 进行一次触发了一个缺陷，有四个加骰和三个时髦骰的掷骰，对抗一个有两个加骰的敌人的攻击检定

**命令**​：

```markdown
.shp1 4d4+3d6#d20+2d4
```

​**回复**​：

```markdown
[测试狩魂者]进行狩魂者检定:
出值: 1D20+4d4+3d6=16+{3+1+1+4}(9)+{3+1+3}(7)=32
挑战值: d20+2d4=d20+2d4={17}(17)+{4+1}(5)=22 
【普通成功】普通成功！小芙的爪子比了个OK手势！ 
小芙计算出了对应的成功等级哦: 1
```

### 4. 指定1D20的数值为15，进行两个加骰和一个时髦骰的掷骰，对抗一个有一个加骰的敌人的攻击检定

**命令**​：

```markdown
.shx15+2d4+1d6#d20+d4
```

​**回复**：

```markdown
[测试狩魂者]进行狩魂者检定:
出值: 1D20+2d4+1d6=15+{3+1}(4)+{1}(1)=20
挑战值: d20+d4=d20+d4={1}(1)+{2}(2)=3 
【普通成功】让小芙看看，一个很普通的普通成功！ 
小芙计算出了对应的成功等级哦: 4
```

### 5. 进行暗骰

**命令**​：

```markdown
.shh
```

**群内回复**​：

```markdown
[测试狩魂者]进行了暗狩魂者检定
```

**私聊回复**​：

```markdown
于群[xxxxxxxxx]中[测试狩魂者]进行暗狩魂者检定:
出值: 1D20=20
挑战值: 10 
【大成功】幸运女神附身了，是大成功！ 
小芙计算出了对应的成功等级哦: 3
```

### 6. 一个非常复杂的测试用命令

**命令**​：

```markdown
.shb2x15+2d4+洞察d4+3d6#心魂d4+1d6+生命值
```

​**回复**：

```markdown
[测试狩魂者]进行狩魂者检定:
出值: 1D20+2d4+洞察(2)d4+3d6=15+{4+3}(7)+{3+2}(5)+{1+2+1}(4)=31
挑战值: 心魂(3)d4+1d6+生命值(10)={2+3+1}(6)+{3}(3)+10=19 
【普通成功】（尾巴轻轻摆动）平板显示普通成功呢~再接再厉哦！ 
小芙计算出了对应的成功等级哦: 5
```

---

## 注意事项

##### 一、DH应该最先做的事（玩家可以忽略）：

1、加“天穹骑士”为好友（或者搭载了此插件的骰娘），邀请他加入你要带团的群，设置他为管理员。
（注意：当你不再需要骰子时，不要踢出骰子！用.bot exit指令让骰子自行退群，或直接解散群聊）
2、让你的玩家使用V2.1以上版本的饭制卡进行车卡，或将旧卡数据誊录到新版。
3、学习下面的教程，协助你的玩家完成录卡和名片更改，必要时代替他们输入指令。

##### 二、数据录入：

1、将骰子拉入群聊后，请先使用[.set temp shouhun]，让本群套用狩魂者模板（只需输入一次，其他人无需再输入）
2、玩家在填写完角色卡并审核通过后，将附表“信息总览表与检定公式”中的.st数据复制粘贴，输入群内，这样就完成了基础数据的录入。
3、玩家输入[.sn]或者[.sn template]，改变名片格式。
4、玩家输入[.sn auto on]，让名片数据能够自动变化。

---

## 截图示例
![Image description](https://forum.olivos.run/assets/files/2025-07-22/1753155667-563484-image.png)
![Image description](https://forum.olivos.run/assets/files/2025-07-22/1753155687-651955-image.png)
![Image description](https://forum.olivos.run/assets/files/2025-07-22/1753155703-789299-image.png)
![Image description](https://forum.olivos.run/assets/files/2025-07-22/1753175228-366293-image.png)
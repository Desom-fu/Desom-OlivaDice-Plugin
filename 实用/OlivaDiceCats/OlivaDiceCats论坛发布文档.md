# 喵影奇谋模块（喵影奇谋跑团专用插件+人物卡模板）

- **名称**​：喵影奇谋模块
- ​**作者**​：Desom-fu
- ​**版本**​：1.0.0
- ​**兼容版本**​：理论兼容所有版本，但仅在最新版本测试过
- ​**平台**​：理论支持全平台（仅在 QQ 部署测试过）
- ​**操作系统**​：理论支持全系统（仅在 Windows Server 2019 上部署过）
- **前置插件**：OlivaDiceCore

---

## 注意事项

- 建议使用最新构建版`OlivaDiceCore`以获得最佳体验
- 下载地址：https://github.com/OlivOS-Team/OlivaDiceCore/actions
- （记得解压！）

- 建议使用最新构建版`OlivaDiceNativeGUI`以获得最佳体验
- 下载地址：https://github.com/Desom-fu/OlivaDiceNativeGUI/actions
- （记得解压！）

- 下载完毕后建议打开`OlivaDice 设置面板`的自定义回复，在回复词中的`配置回复模块`里面新增一行`OlivaDiceCats`（注意大小写要完全一致!）

---

## 下载

- ###### ​**插件包（记得解压！）** ​:
[upl-file uuid=xxx size=xxkB]olivadice-cats.zip[/upl-file]

- ###### **喵影奇谋青果专用人物卡模板（解压！）** :
[upl-file uuid=xxx size=xxkB]cats.zip[/upl-file]

---

## 更新日志

## 2025.9.15 v1.0.0发布：
- 喵影奇谋插件发布
- 支持完整的喵影奇谋检定系统
- 包含幸运骰机制和大成功/大失败重投
- 支持技能值替换和人物卡数据
- 自动处理偶数挑战难度

---

## 核心功能

- 新增 `.cats` 命令，用来进行喵影奇谋相关的技能检定
- 支持幸运骰机制，根据人物卡幸运值投掷1-5个d10
- 支持大成功/大失败的重投机制
- 支持技能值的自动替换
- 支持@其他人使用对方的技能值进行对抗
- 自动处理偶数挑战难度（偶数减1变奇数）

---

## 使用方法

1. 下载插件包并且解压后，将插件放到 `YourOlivOSPath\plugin\app` 这个路径里
2. 下载人物卡模板并且解压后，将人物卡模板放到 `YourOlivOSPath\plugin\data\OlivaDice\unity\extend\template` 这个路径里
3. 重载插件
4. 可在GUI里面自定义回复

---

## 命令

- .cats(b/p数字)(u/d数字)(l数字)(前式)#(b/p数字)(u/d数字)(l数字)(挑战难度)(@其他人)

```markdown
参数说明：
- 前式：可以是数字或表达式，如10、2d6+10等
- 挑战难度：目标数值或表达式
- @其他人：后式使用他人人物卡中的技能值
- b/p数字：加减的成功等级  
- u/d数字：加减幸运骰的数目（最多5个最少1个）
- l数字：固定幸运骰数目（优先级高于u/d，以最近的l参数为准）

检定规则：
1. 根据人物卡幸运属性投掷1-5个d10（可通过参数调整）
2. 若投出10重投，重投出10为大成功；若投出1重投，重投出1为大失败
3. 多个大成功/大失败按数量多的决定结果，相等时可手动选择
4. 挑战难度若为偶数则自动减1变为奇数
5. 前式+选择的d10结果与挑战难度对比，计算基础成功等级
6. 成功等级计算：(基础成功等级+b/p修正)÷2向下取整
7. 最终大成功时幸运+1升级点+1，大失败时幸运-1升级点+1，抵消时均不变
8. 若无挑战难度，则默认为9
```

---

## 使用示例

### 此插件需要手动选择幸运骰，具体只在这展示一次，之后进行忽略

**命令**​：

```markdown
.cats 皮毛
```

​**第一次回复**​：

```markdown
[测试猫猫]进行喵影奇谋检定
幸运骰(2个): [1] 4 [2] 7
请选择1-2：
```

**选择 "2" 后的最终回复**：

```markdown
[测试猫猫]进行喵影奇谋检定
出值: 皮毛(8)+幸运骰(7)=15[极难]
挑战难度: 9[普通] 【成功】
成功等级: 15-9=6÷2=3
```

### 1. 默认检定

**命令**​：

```markdown
.cats
```

​**回复**​：

```markdown
[测试猫猫]进行喵影奇谋检定
出值: 0+幸运骰(7)=7[稍易]
挑战难度: 9[普通] 成功
成功等级: 7-9=-2÷2=-1
```

### 2. 使用技能进行检定

**命令**​：

```markdown
.cats 皮毛
```

​**回复**​：

```markdown
[测试猫猫]进行喵影奇谋检定
出值: 皮毛(8)+幸运骰(6)=14[困难]
挑战难度: 9[普通] 成功
成功等级: 14-9=5÷2=2
```

### 3. 对抗其他玩家

**命令**​：

```markdown
.cats u1 皮毛#抚摸@其他人
```

​**回复**​：

```markdown
[测试猫猫]进行喵影奇谋检定挑战[其他猫猫]
出值: 皮毛(8)+幸运骰(8)=16[极难]
挑战难度: 抚摸(6)=6→5(偶数转奇数)[容易] 成功
成功等级: 16-5=11÷2=5
```

### 4. 大成功/大失败示例

**命令**​：

```markdown
.cats l2 皮毛
```

​**回复**​：

```markdown
[测试猫猫]进行喵影奇谋检定
幸运骰(2个): [1] 10:重投10:大成功 [2] 3
大成功
```

---

## 注意事项

##### 一、DH应该最先做的事（玩家可以忽略）：

1、加"天穹骑士"为好友（或者搭载了此插件的骰娘），邀请他加入你要带团的群，设置他为管理员。
（注意：当你不再需要骰子时，不要踢出骰子！用.bot exit指令让骰子自行退群，或直接解散群聊）
2、让你的玩家使用喵影奇谋角色卡进行车卡，或将旧卡数据誊录到新版。
3、学习下面的教程，协助你的玩家完成录卡和名片更改，必要时代替他们输入指令。

##### 二、数据录入：

1、将骰子拉入群聊后，请先使用[.set temp cats]，让本群套用喵影奇谋模板（只需输入一次，其他人无需再输入）
2、玩家在填写完角色卡并审核通过后，将附表"猫猫卡"中的.st数据复制粘贴，输入群内，这样就完成了基础数据的录入。
3、玩家输入[.sn]或者[.sn template]，改变名片格式。
4、玩家输入[.sn auto on]，让名片数据能够自动变化。

---

## 喵影奇谋系统特色

- **幸运骰系统**：根据角色幸运值投掷多个d10（最多为5）
- **重投机制**：投出1或10时自动重投，带来大成功/大失败的惊喜
- **技能替换**：支持在检定中使用人物卡技能名称，自动替换为对应数值
- **对抗检定**：支持@其他玩家进行技能对抗，使用各自的人物卡数据
- **智能难度**：自动处理偶数挑战难度，确保游戏平衡性
- **成功等级**：详细的成功等级计算，提供精确的检定结果判定

---

## 截图示例



---

## 常见问题

**Q：为什么我的检定没有反应？**
A：请确保已经正确安装插件并在自定义回复中添加了"OlivaDiceCats"模块。

**Q：如何设置人物卡？**
A：使用`.set temp cats`设置模板后，通过`.st`命令录入人物卡数据。

**Q：幸运骰数量是如何确定的？**
A：默认根据人物卡中的幸运值，也可以通过u/d/l参数手动调整。

**Q：什么是偶数转奇数？**
A：根据挑战书规则，系统会自动将偶数挑战难度减1变为奇数，方便计算成功等级。